<UserControl x:Class="WarehouseApp.Views.SimulationSetupWindow"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:WarehouseApp.Views"
             mc:Ignorable="d" 
             d:DesignHeight="600" d:DesignWidth="800">

    <ScrollViewer>
        <StackPanel Margin="20">
            <TextBlock Text="Настройка симуляции" FontSize="24" FontWeight="Bold" Margin="0,0,0,20"/>

            <!-- Основные параметры -->
            <GroupBox Header="Основные параметры" Margin="0,0,0,15">
                <StackPanel Margin="10">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="200"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <TextBlock Text="Длительность симуляции (дней):" Grid.Row="0" Grid.Column="0" Margin="0,5"/>
                        <Slider Value="{Binding Config.SimulationDays}" Minimum="10" Maximum="30" 
                                Grid.Row="0" Grid.Column="1" Margin="10,5"/>
                        <TextBlock Text="{Binding Config.SimulationDays}" Grid.Row="0" Grid.Column="1" 
                                   HorizontalAlignment="Right" Margin="0,5,10,5"/>

                        <TextBlock Text="Количество магазинов:" Grid.Row="1" Grid.Column="0" Margin="0,5"/>
                        <Slider Value="{Binding Config.StoreCount}" Minimum="3" Maximum="9" 
                                Grid.Row="1" Grid.Column="1" Margin="10,5"/>
                        <TextBlock Text="{Binding Config.StoreCount}" Grid.Row="1" Grid.Column="1" 
                                   HorizontalAlignment="Right" Margin="0,5,10,5"/>

                        <TextBlock Text="Видов товаров:" Grid.Row="2" Grid.Column="0" Margin="0,5"/>
                        <Slider Value="{Binding Config.ProductTypesCount}" Minimum="12" Maximum="20" 
                                Grid.Row="2" Grid.Column="1" Margin="10,5"/>
                        <TextBlock Text="{Binding Config.ProductTypesCount}" Grid.Row="2" Grid.Column="1" 
                                   HorizontalAlignment="Right" Margin="0,5,10,5"/>
                    </Grid>
                </StackPanel>
            </GroupBox>

            <!-- Параметры товаров -->
            <GroupBox Header="Параметры товаров" Margin="0,0,0,15">
                <StackPanel Margin="10">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="200"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <TextBlock Text="Минимальная цена:" Grid.Row="0" Grid.Column="0" Margin="0,5"/>
                        <TextBox Text="{Binding Config.MinProductPrice}" Grid.Row="0" Grid.Column="1" Margin="5"/>

                        <TextBlock Text="Максимальная цена:" Grid.Row="1" Grid.Column="0" Margin="0,5"/>
                        <TextBox Text="{Binding Config.MaxProductPrice}" Grid.Row="1" Grid.Column="1" Margin="5"/>

                        <TextBlock Text="Срок годности (мин):" Grid.Row="2" Grid.Column="0" Margin="0,5"/>
                        <TextBox Text="{Binding Config.MinExpiryDays}" Grid.Row="2" Grid.Column="1" Margin="5"/>

                        <TextBlock Text="Срок годности (макс):" Grid.Row="3" Grid.Column="0" Margin="0,5"/>
                        <TextBox Text="{Binding Config.MaxExpiryDays}" Grid.Row="3" Grid.Column="1" Margin="5"/>
                    </Grid>
                </StackPanel>
            </GroupBox>

            <!-- Кнопки действий -->
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,20">
                <Button Content="Сгенерировать данные" Command="{Binding GenerateDataCommand}" 
                        Width="150" Height="40" Margin="10" Background="#3498db" Foreground="White"/>
                <Button Content="Начать симуляцию" Command="{Binding StartSimulationCommand}" 
                        Width="150" Height="40" Margin="10" Background="#2ecc71" Foreground="White"/>
                <Button Content="Панель управления" Command="{Binding ShowDashboardCommand}" 
                        Width="150" Height="40" Margin="10" Background="#95a5a6" Foreground="White"/>
            </StackPanel>

            <!-- Предпросмотр данных -->
            <TabControl Margin="0,20">
                <TabItem Header="Товары">
                    <DataGrid ItemsSource="{Binding Products}" AutoGenerateColumns="False" Height="200">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="ID" Binding="{Binding Id}" Width="50"/>
                            <DataGridTextColumn Header="Название" Binding="{Binding Name}" Width="150"/>
                            <DataGridTextColumn Header="Цена" Binding="{Binding BasePrice, StringFormat=N2}" Width="80"/>
                            <DataGridTextColumn Header="На складе" Binding="{Binding QuantityInStock}" Width="80"/>
                            <DataGridTextColumn Header="Срок годности" Binding="{Binding ExpiryDate, StringFormat=d}" Width="100"/>
                        </DataGrid.Columns>
                    </DataGrid>
                </TabItem>
                <TabItem Header="Магазины">
                    <DataGrid ItemsSource="{Binding Stores}" AutoGenerateColumns="False" Height="200">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="ID" Binding="{Binding Id}" Width="50"/>
                            <DataGridTextColumn Header="Название" Binding="{Binding Name}" Width="150"/>
                            <DataGridTextColumn Header="Адрес" Binding="{Binding Address}" Width="200"/>
                            <DataGridTextColumn Header="Контакт" Binding="{Binding ContactPerson}" Width="150"/>
                        </DataGrid.Columns>
                    </DataGrid>
                </TabItem>
            </TabControl>
        </StackPanel>
    </ScrollViewer>
</UserControl>